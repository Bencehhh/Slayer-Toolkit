<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MFD ERP SLAYER TOOL FOR DUMMIES</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #ffffff;
            color: #333;
            margin: 0;
            padding: 20px;
            position: relative;
        }

        h1 {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            padding: 10px;
            border-radius: 5px;
            border: 3px solid black;
            position: relative;
            text-shadow: 1px 1px 2px black;
        }

        h1::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: -1;
            background: repeating-linear-gradient(
                -45deg,
                rgb(201, 201, 1) 0px,
                rgb(255, 255, 0) 10px,
                black 10px,
                rgb(10, 10, 10) 20px
            );
            border-radius: 5px;
        }

        #fileInput {
            display: block;
            margin: 0 auto 20px auto;
            border-radius: 15px;
            border: 3px solid;
            border-image: repeating-linear-gradient(
                45deg,
                black,
                black 10px,
                yellow 10px,
                yellow 20px
            ) 10;
            padding: 10px;
        }

        button {
            background-color: transparent;
            color: black;
            border: 3px solid;
            border-image: repeating-linear-gradient(
                45deg,
                black,
                black 10px,
                yellow 10px,
                yellow 20px
            ) 10;
            padding: 10px 20px;
            margin: 10px 0;
            cursor: pointer;
            border-radius: 15px;
            transition: background-color 0.3s, color 0.3s;
            display: block;
            max-width: 400px;
            text-align: left;
        }

        button:hover {
            background-color: rgba(201, 201, 1, 0.1);
        }

        .url-panel {
            background-color: transparent;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            border: 3px solid;
            border-image: repeating-linear-gradient(
                45deg,
                black,
                black 10px,
                yellow 10px,
                yellow 20px
            ) 10;
        }

        .panel {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            margin-top: 10px;
        }

        h3, h4 {
            color: black;
            margin: 10px 0;
        }

        .custom-field {
            margin-top: 10px;
            display: block;
            width: calc(100% - 22px);
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }

        #url-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        #result {
            margin-top: 30px;
            padding: 10px;
            background-color: #e0e0e0;
            border-radius: 15px;
            border: 3px solid;
            border-image: repeating-linear-gradient(
                45deg,
                black,
                black 10px,
                yellow 10px,
                yellow 20px
            ) 10;
            color: black;
            white-space: pre-wrap;
            font-weight: bold;
            text-shadow: none;
        }

        a {
            color: red;
            text-decoration: none;
            font-weight: bold;
        }

        a:hover {
            text-decoration: underline;
        }

        #downloadBtn {
            display: none;
            background-color: transparent;
            color: black;
            border: 3px solid;
            border-image: repeating-linear-gradient(
                45deg,
                black,
                black 10px,
                yellow 10px,
                yellow 20px
            ) 10;
            padding: 10px 20px;
            margin: 10px 0;
            cursor: pointer;
            border-radius: 15px;
            max-width: 400px;
            text-align: left;
        }

        #downloadBtn:hover {
            background-color: rgba(201, 201, 1, 0.1);
        }

        .watermark {
            position: fixed; /* Fixed position for staying at bottom right */
            bottom: 10px; /* Distance from bottom */
            right: 10px; /* Distance from right */
            color: black; /* Text color */
            font-size: 14px; /* Adjust font size as necessary */
            opacity: 1; /* Optional: make it semi-transparent */
            font-weight: bold;
        }

        #youtubePlayer {
            display: none;
            width: 0px;
            height: 0px;
            margin: 0px 0;
        }

        #muteButton {
            display: none;
            background-color: transparent;
            color: black;
            border: 3px solid;
            border-image: repeating-linear-gradient(
                45deg,
                black,
                black 10px,
                yellow 10px,
                yellow 20px
            ) 10;
            padding: 10px 20px;
            margin: 10px 0;
            cursor: pointer;
            border-radius: 15px;
            max-width: 400px;
            text-align: left;
        }

        #muteButton:hover {
            background-color: rgba(201, 201, 1, 0.1);
        }
        .custom-reset * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

.custom-body {
    font-family: "din-condensed", sans-serif;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 0px;
}

.custom-table {
    background-color: #000; /* Black background for the table */
    border-collapse: collapse; /* Remove space between table cells */
    width: 908px; /* Set the width to 908px (768px + 70px + 70px) */
    height: 67px; /* Set the height to 67px */
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5); /* Optional shadow */
    position: relative; /* Allow absolute positioning within */
}

.custom-td {
    padding: 0; /* Remove padding inside the cell */
    color: #ffef00;
}

.custom-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    width: 100%;
    height: 100%; /* Ensures the container fills the table */
}

.custom-tri {
    fill: #ffef00;
    stroke: #000;
    stroke-width: 7;
}

.custom-banner {
    height: 80px;
    width: 0; /* Initially set width to 0 */
    overflow: hidden;
    transition: width 1s ease-in-out;
    position: relative;
}

.custom-banner.max {
    width: 100%; /* Expand the banner to fill the width of the container */
}

.custom-marquee {
    overflow: hidden;
    position: relative;
    width: 100%;
    height: 40px;
    display: inline-block; /* Make sure the element behaves correctly */
    animation: scrollLeft 5s linear infinite; /* Adjust duration as needed */
    color: #ffef00; /* Text color */
    font-size: 40px; /* Font size */
}
marquee {
    padding: 10px 0; /* Optional: Add some padding for better visibility */
}
.marquee-content {
    display: inline-block; /* Make sure the content behaves correctly */
    padding-left: 100%; /* Start the content from outside the view */
    box-sizing: border-box;
}
.scrolling-text {
    display: inline-block;
    white-space: nowrap; /* Prevent line breaks */
    padding-right: 100%;
    animation: scroll-text var(--scroll-duration) linear infinite;
    width: 700px;
    font-size: 40px;
    color:#ffef00;
}
:root {
    --scroll-duration: 9s; /* Change to 5s for faster scrolling */
}
@keyframes scroll-text {
    0% {
        transform: translateX(0); /* Start text from the right */
    }
    100% {
        transform: translateX(-200%); /* Move text to the left */
    }
}
.custom-box {
    width: 100%;
    height: 100%;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: custom-flickerBgAnimation 1s infinite;
}

.custom-corner {
    position: absolute;
    width: 20px;
    height: 20px;
    border: 4px solid #ffef00;
}

.custom-corner.top-left {
    top: 0;
    left: 0;
    border-right: none;
    border-bottom: none;
}

.custom-corner.top-right {
    top: 0;
    right: 0;
    border-left: none;
    border-bottom: none;
}

.custom-corner.bottom-left {
    bottom: 0;
    left: 0;
    border-right: none;
    border-top: none;
}

.custom-corner.bottom-right {
    bottom: 0;
    right: 0;
    border-left: none;
    border-top: none;
}

.custom-indicator {
    width: 60px;
    height: 60px;
    background-color: #ffef00;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-top: 10px;
    position: absolute;
    left: -70px; /* Initially position triangle on the left */
    transition: left 1s ease-in-out;
    z-index: 1; /* Ensure the triangle is above the table background */
}

.custom-indicator.right {
    left: calc(100% + 10px); /* Move triangle to the right side outside the text box */
}

@keyframes custom-flickerAnimation {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
}

@keyframes custom-flickerBgAnimation {
    0% { background: rgba(255, 247, 20, 0.1); }
    50% { background: rgba(255, 247, 20, 0.3); }
    100% { background: rgba(255, 230, 80, 0.1); }
}

.custom-flicker {
    animation: custom-flickerAnimation 0.3s infinite;
}
/* Hide the table initially */
.hidden {
    display: none;
}

/* Ensure the table is centered horizontally and vertically */
#tableContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%; /* Full height of the viewport */
    position: relative; /* For absolute positioning of triangle */
}

.tableContainer {
    display: none; /* Initially hidden */
    opacity: 0;
    transition: opacity 0.5s ease; /* Smooth transition for opacity */
}

.tableContainer.show-animation {
    display: flex; /* Show the container */
    opacity: 1; /* Fade in effect */
}

/* Styles for the black box background */
.black-box {
    display: none; /* Initially hidden */
    position: absolute; /* Cover the entire container */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8); /* Semi-transparent black */
    z-index: 1; /* Make sure it appears above other elements */
}

/* Styles for the triangle */
.triangle {
    display: none; /* Initially hidden */
    position: absolute; /* Position the triangle */
    top: 20px; /* Adjust as needed */
    left: 50%; /* Center horizontally */
    transform: translateX(-50%); /* Center the triangle */
    width: 0;
    height: 0;
    border-left: 15px solid transparent; /* Adjust size as needed */
    border-right: 15px solid transparent;
    border-bottom: 30px solid white; /* Color of the triangle */
    z-index: 2; /* Make sure it appears above the black box */
}

        /* Add other styles here as per your original code... */
    </style>
</head>
<body>
    <h1>MFD ERP SLAYER TOOL FOR DUMMIES</h1><br>

    <!-- File input and buttons -->
    <input id="fileInput" accept=".txt" type="file">
    <button id="loadDatabaseBtn">Load Database</button>
    
    <!-- Hidden table container -->
    <div id="tableContainer" style="display: none;">
        <table class="custom-table">
            <tr>
                <td class="custom-td">
                    <div class="custom-container">
                        <div class="custom-banner" id="banner">
                            <div class="custom-box">
                                <div class="custom-corner top-left"></div>
                                <div class="custom-corner top-right"></div>
                                <div class="custom-corner bottom-left"></div>
                                <div class="custom-corner bottom-right"></div>
    
                                <!-- Scrolling text container -->
                                <div class="custom-marquee">
                                    <div class="scrolling-text">
                                        ERP ACCOUNT SLAYING IN PROGRESS //
                                        ERP ACCOUNT SLAYING IN PROGRESS //
                                        ERP ACCOUNT SLAYING IN PROGRESS //
                                        ERP ACCOUNT SLAYING IN PROGRESS //
                                        ERP ACCOUNT SLAYING IN PROGRESS //
                                        ERP ACCOUNT SLAYING IN PROGRESS //
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="custom-indicator" id="indicator">
                            <svg height="50" width="50">
                                <polygon points="25,10 40,40 10,40" class="custom-tri"></polygon>
                            </svg>
                        </div>
                    </div>
                </td>
            </tr>
        </table>
    </div>

    <div id="player"></div> <!-- YouTube player for background music -->
    
    <button id="muteButton" onclick="toggleMute()">Mute</button>

    <div id="url-container"></div>
    
    <button id="updateDatabaseBtn" onclick="processAllURLs()" style="display: none;">UPDATE ERP DATABASE</button>

    <h3>UPDATED ERP DATABASE:</h3>
    <div id="result">
    </div>

    <button id="downloadBtn" onclick="downloadDatabase()" style="display: none;">DOWNLOAD UPDATED ERP DATABASE</button>
<div class="watermark">Created by BenXiadous
</div>
    

    <script>
        let player;
        let isMuted = true;

        // Load YouTube API
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        const firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        // Hide buttons initially
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('muteButton').style.display = 'none';
            document.getElementById('downloadBtn').style.display = 'none';
            document.getElementById('updateDatabaseBtn').style.display = 'none';
            document.getElementById('loadDatabaseBtn').addEventListener('click', loadURLs);
        });

        // Create YouTube player
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '0', // Hidden player
                width: '0',
                videoId: '9f7xAxKtjXc',
                playerVars: {
                    autoplay: 1,
                    loop: 1,
                    playlist: '9f7xAxKtjXc',
                    controls: 1,
                    mute: 1 // Start muted for autoplay to work
                },
                events: {
                    onReady: onPlayerReady
                }
            });
        }

        function onPlayerReady(event) {
            event.target.playVideo(); // Start playing the video
        }

        // Mute/unmute functionality
        function toggleMute() {
            if (player) {
                if (isMuted) {
                    player.unMute();
                    isMuted = false;
                    document.getElementById('muteButton').textContent = 'Mute';
                } else {
                    player.mute();
                    isMuted = true;
                    document.getElementById('muteButton').textContent = 'Unmute';
                }
            } else {
                console.error('Player not initialized');
            }
        }

        function showButtonsAfterLoading() {
            document.getElementById('muteButton').style.display = 'block';
            document.getElementById('downloadBtn').style.display = 'block';
            document.getElementById('updateDatabaseBtn').style.display = 'block';
        }

        function loadURLs() {
            const fileInput = document.getElementById('fileInput');
            const urlContainer = document.getElementById('url-container');
            urlContainer.innerHTML = '';

            if (!fileInput.files.length) {
            alert('Choose a database!');
            return;
        }

            const file = fileInput.files[0];
            const reader = new FileReader();
            reader.onload = function(event) {
                const urls = event.target.result.split('\n').map(url => url.trim());
                urls.forEach((url, index) => createURLPanel(url, index));
                showButtonsAfterLoading();

                // Show the table and related elements when the button is pressed
                document.getElementById('tableContainer').style.display = 'flex'; // Show the container
                document.querySelector('.custom-table').style.display = 'table'; // Show the table
                document.querySelector('.custom-box').style.display = 'flex'; // Show the custom box
                document.querySelector('.custom-indicator').style.display = 'flex'; // Show the indicator

                player.unMute();
                player.playVideo();
                isMuted = false;
                document.getElementById('muteButton').textContent = 'Mute';
            };

            reader.readAsText(file);
        }

        function createURLPanel(url, index) {
            const urlContainer = document.getElementById('url-container');
            const urlPanel = document.createElement('div');
            urlPanel.classList.add('url-panel');
            urlPanel.setAttribute('data-url-index', index);

            const urlTitle = document.createElement('h3');
            urlTitle.innerHTML = `USER: <a href="${url}" target="_blank">${url}</a>`;
            urlPanel.appendChild(urlTitle);

            // First reason panel
            const firstReasonPanel = document.createElement('div');
            firstReasonPanel.classList.add('panel');
            firstReasonPanel.innerHTML = `<h4>FIRST REASON:</h4>`;
            urlPanel.appendChild(firstReasonPanel);

            const addFirstCustomFieldBtn = document.createElement('button');
            addFirstCustomFieldBtn.textContent = "ADD CUSTOM REASON (ADD AS MANY AS YOU WANT)";
            addFirstCustomFieldBtn.onclick = function () {
                addCustomField(firstReasonPanel);
            };
            addFirstCustomFieldBtn.style.margin = "10px 0";
            urlPanel.appendChild(addFirstCustomFieldBtn);

            urlContainer.appendChild(urlPanel);
        }

        function processAllURLs() {
            const urlPanels = document.querySelectorAll('.url-panel');
            let updatedDatabaseContent = '';

            urlPanels.forEach((panel) => {
                const url = panel.querySelector('h3 a').href;

                // Extract the reasons from the first reason panel.
                const firstReasonInputs = panel.querySelectorAll('.panel:first-of-type input[type="text"]');
                const firstReasons = formatReasons(Array.from(firstReasonInputs).map(input => input.value.trim()));

                // Construct the output string without any added punctuation
                let reasonsText = `${url} ${firstReasons}`.trim();

                // Add to the final result.
                updatedDatabaseContent += `${reasonsText}\n`;
            });

            // Display the result in the result div.
            const resultDiv = document.getElementById('result');
            resultDiv.textContent = updatedDatabaseContent;

            // Show the download button if the content is generated.
            const downloadBtn = document.getElementById('downloadBtn');
            downloadBtn.style.display = updatedDatabaseContent ? 'block' : 'none';
        }

        function formatReasons(reasonsArray) {
            // Filter out empty reasons and trim each reason
            reasonsArray = reasonsArray.map(reason => reason.trim()).filter(reason => reason !== '');

            if (reasonsArray.length === 0) return '';
            if (reasonsArray.length === 1) return reasonsArray[0]; // No extra formatting for a single reason.

            // Join multiple reasons, keeping the first letter lowercase for subsequent reasons.
            let formattedReasons = reasonsArray.map((reason, index) => {
                return index === 0 ? reason : reason.charAt(0).toLowerCase() + reason.slice(1);
            }).join(', ');

            // Ensure there is no trailing comma at the end.
            return reasonsArray.join(' ');
        }

        function addCustomField(panel) {
            const inputField = document.createElement('input');
            inputField.setAttribute('type', 'text');
            inputField.setAttribute('placeholder', 'Enter custom reason');
            inputField.classList.add('custom-field');
            panel.appendChild(inputField);
        }

        function downloadDatabase() {
            const resultDiv = document.getElementById('result');
            const content = resultDiv.textContent;

            if (!content) {
                alert('No content to download.');
                return;
            }

            const blob = new Blob([content], { type: 'text/plain' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = 'ERP_database.txt';
            link.click();
        }

        // Animation functions
        document.getElementById('loadDatabaseBtn').addEventListener('click', function() {
            const tableContainer = document.getElementById('tableContainer');
            tableContainer.classList.remove('hidden');
            startAnimation();
        });

        function startAnimation() {
            const indicator = document.getElementById("indicator");
            const banner = document.getElementById("banner");

            let flashCount = 0;
            const flashInterval = setInterval(() => {
                indicator.classList.toggle("custom-flicker");
                flashCount++;
                if (flashCount >= 5) { // Flash 5 times
                    clearInterval(flashInterval);
                    indicator.classList.remove("custom-flicker");
                    banner.classList.add("max");
                    indicator.classList.add("right");
                }
            }, 300); // Flash duration (300ms per flash)
        }
        function loadURLs() {
    const fileInput = document.getElementById('fileInput');
    const urlContainer = document.getElementById('url-container');
    urlContainer.innerHTML = '';

    if (!fileInput.files.length) {
        alert('Choose a database!');
        return;
    }

    const file = fileInput.files[0];
    const reader = new FileReader();
    reader.onload = function(event) {
        const urls = event.target.result.split('\n').map(url => url.trim());
        urls.forEach((url, index) => createURLPanel(url, index));
        showButtonsAfterLoading();

        // Show the table container when the button is pressed
        const tableContainer = document.getElementById('tableContainer');
        tableContainer.style.display = 'flex'; // Change display to flex

        player.unMute();
        player.playVideo();
        isMuted = false;
        document.getElementById('muteButton').textContent = 'Mute';
    };

    reader.readAsText(file);
}    
    </script>       
</body>
</html>